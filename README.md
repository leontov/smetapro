# smetapro

Программа для составления смет

## Agent Hub

Веб-интерфейс на React/Vite с локальным хранилищем Dexie (IndexedDB) для управления AI-агентами:

- **Agent Hub** — листинг карточек агентов, фильтры по статусу, тегам и смете, форма создания/редактирования с привязкой к сметам.
- **Flow Builder** — визуальный конструктор сценариев на базе React Flow с узлами Prompt/Tool/Data и сериализацией графа.
- **Run History** — история запусков, статусы, журналы, повторы.
- **Редактор сметы** — выбор контекста сметы и запуск агента напрямую из редактора.

## GenKit интеграция

В проекте реализована обёртка `GenkitClient` с управлением API-ключом и пайплайном выполнения flow. Для реального API передайте ключ через `GENKIT_API_KEY` (и при необходимости `GENKIT_ENDPOINT`). Без ключа клиент работает в офлайн-режиме с мок-ответами.

## Скрипты

```bash
npm install           # установка зависимостей
npm run dev           # запуск Vite dev server
npm run build         # production-сборка
npm run test          # контрактные тесты (Vitest)
npm run test:smoke    # smoke-тесты (требуется GENKIT_API_KEY)
```

Smoke-тест `tests/smoke/genkitSmoke.test.ts` автоматически пропускается, если ключ не задан.
